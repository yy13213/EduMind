# EduMind 另一台电脑部署完整指南

## 🎯 部署方式选择

### 方法一：从GitHub获取（推荐）

#### 1. 下载部署包
```bash
# 方式1：使用Git克隆
git clone https://github.com/yy13213/EduMind.git
cd EduMind/EduMind_Private_Deploy/

# 方式2：直接下载ZIP
# 访问 https://github.com/yy13213/EduMind
# 点击 "Code" -> "Download ZIP"
# 解压后进入 EduMind/EduMind_Private_Deploy/ 目录
```

#### 2. 环境检查
```bash
# Windows用户
check-system.bat

# Linux/Mac用户
chmod +x start.sh
./check-system.sh  # 如果没有此文件，手动检查Docker
```

#### 3. 启动服务
```bash
# Windows用户
start.bat

# Linux/Mac用户
./start.sh
```

### 方法二：使用导出的镜像文件

#### 1. 获取镜像文件
从原电脑导出镜像：
```bash
# 在原电脑上运行
export-image.bat  # 生成 edumind-private.zip
```

#### 2. 在新电脑上导入
```bash
# 解压 edumind-private.zip 得到 edumind-private.tar
import-image.bat  # 导入镜像

# 然后启动服务
start.bat
```

## 🔧 详细操作步骤

### Windows系统部署

#### 步骤1：环境准备
1. 安装Docker Desktop
   - 下载：https://www.docker.com/products/docker-desktop
   - 安装并启动Docker Desktop

2. 验证安装
   ```cmd
   docker --version
   docker-compose --version
   ```

#### 步骤2：获取部署包
**选项A：使用Git**
```cmd
git clone https://github.com/yy13213/EduMind.git
cd EduMind\EduMind_Private_Deploy
```

**选项B：直接下载**
1. 访问 https://github.com/yy13213/EduMind
2. 点击绿色的 "Code" 按钮
3. 选择 "Download ZIP"
4. 解压到本地目录
5. 进入 `EduMind\EduMind_Private_Deploy` 目录

#### 步骤3：系统检查
```cmd
check-system.bat
```

#### 步骤4：启动服务
```cmd
start.bat
```

#### 步骤5：访问应用
打开浏览器访问：http://127.0.0.1:8501

### Linux/Mac系统部署

#### 步骤1：环境准备
```bash
# Ubuntu/Debian
sudo apt update
sudo apt install docker.io docker-compose

# CentOS/RHEL
sudo yum install docker docker-compose

# macOS (使用Homebrew)
brew install docker docker-compose
```

#### 步骤2：获取部署包
```bash
git clone https://github.com/yy13213/EduMind.git
cd EduMind/EduMind_Private_Deploy/
```

#### 步骤3：设置权限
```bash
chmod +x start.sh
```

#### 步骤4：启动服务
```bash
./start.sh
```

## 🚨 常见问题解决

### 问题1：Docker未启动
**Windows：**
- 启动Docker Desktop应用
- 等待Docker完全启动（状态栏显示绿色）

**Linux：**
```bash
sudo systemctl start docker
sudo systemctl enable docker
```

### 问题2：端口被占用
```bash
# 查看端口占用
netstat -an | findstr :8501  # Windows
netstat -an | grep :8501     # Linux/Mac

# 停止占用端口的程序或修改配置文件中的端口
```

### 问题3：权限问题
**Linux/Mac：**
```bash
# 添加用户到docker组
sudo usermod -aG docker $USER
# 重新登录或重启终端
```

### 问题4：镜像下载失败
```bash
# 手动拉取镜像
docker pull yy13213/edumind:latest

# 或者使用镜像文件导入方式
```

## 📁 目录结构说明

```
EduMind_Private_Deploy/
├── docker-compose.yml      # Docker配置文件
├── start.bat              # Windows启动脚本
├── start.sh               # Linux/Mac启动脚本
├── check-system.bat       # 系统检查工具
├── export-image.bat       # 镜像导出工具
├── import-image.bat       # 镜像导入工具
├── README.md             # 基础说明文档
└── .dockerignore         # Docker忽略文件
```

## 🎯 验证部署成功

1. **检查容器状态**
   ```bash
   docker-compose ps
   ```
   应该显示：`Up X seconds (healthy)`

2. **检查日志**
   ```bash
   docker-compose logs
   ```

3. **访问测试**
   - 打开浏览器
   - 访问 http://127.0.0.1:8501
   - 应该看到EduMind应用界面

## 🔒 安全说明

- 应用仅绑定到 127.0.0.1，只能本地访问
- 不暴露源代码，使用预构建镜像
- 数据存储在本地 `data/` 目录
- 日志保存在本地 `logs/` 目录

## 📞 技术支持

如果遇到问题：
1. 检查Docker服务状态
2. 查看容器日志
3. 确认端口未被占用
4. 重新构建镜像：`docker-compose build --no-cache`

---
*EduMind私有化部署 - 简单、安全、高效* 